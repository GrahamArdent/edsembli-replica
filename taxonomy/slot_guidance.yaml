# Slot Guidance (Controlled Vocabulary)
# Defines valid values and examples for template placeholders
# ID: taxonomy.slot_guidance
# Updated: 2026-01-11

slots:
  # Core child reference slots
  - id: slot.child
    name: Child Name
    description: Placeholder for child's first name only (never full name or identifier)
    required: true
    examples:
      - "{child}"
    validation: "First name only, no surnames or identifiers"
    notes: "Populated at runtime by the reporting system; never stored in templates"

  - id: slot.pronoun_subject
    name: Subject Pronoun
    description: Subject pronoun for the child (they/she/he)
    required: true
    examples:
      - "they"
      - "she"
      - "he"
    validation: "Must be lowercase subject pronoun"

  - id: slot.pronoun_object
    name: Object Pronoun
    description: Object pronoun for the child (them/her/him)
    required: false
    examples:
      - "them"
      - "her"
      - "him"
    validation: "Must be lowercase object pronoun"

  - id: slot.pronoun_possessive
    name: Possessive Pronoun
    description: Possessive pronoun for the child (their/her/his)
    required: false
    examples:
      - "their"
      - "her"
      - "his"
    validation: "Must be lowercase possessive pronoun"

  # Evidence and observation slots
  - id: slot.evidence
    name: Observable Evidence
    description: Specific, observable behavior or artifact demonstrating learning
    required: true
    examples:
      - "building a tower with blocks and explaining why the base needs to be wider"
      - "helping a classmate find the right crayon for their drawing"
      - "counting the number of snacks needed for the table group"
    validation: "Must be concrete, observable, and PII-free"
    guidance: |
      Evidence should be:
      - Specific (not vague like "doing well")
      - Observable (what you saw/heard, not inferences)
      - Connected to learning (shows understanding or skill)
      - Free of PII (no names of other children, parents, or identifying info)

  - id: slot.strength
    name: Learning Strength
    description: A specific skill or disposition the child demonstrates well
    required: false
    examples:
      - "persistence when facing challenges"
      - "kindness toward classmates"
      - "curiosity about how things work"
      - "attention to detail in artwork"
    validation: "Must be positive and specific"

  - id: slot.change
    name: Growth Description
    description: How the child's behavior or skill has changed over time
    required: false
    examples:
      - "initiates conversations with peers during play"
      - "can count to 20 with one-to-one correspondence"
      - "uses three-word sentences to express needs"
    validation: "Must describe current state, not compare to other children"

  - id: slot.previous
    name: Previous State
    description: How the child behaved or performed earlier (for growth comparison)
    required: false
    examples:
      - "needed adult support to join group activities"
      - "recognized numbers to 10"
      - "used single words or gestures"
    validation: "Must be factual and non-judgmental"

  - id: slot.goal
    name: Learning Goal
    description: A specific, achievable next step for the child's learning
    required: false
    examples:
      - "using complete sentences to explain thinking"
      - "recognizing rhyming words in stories"
      - "taking turns without reminders during group games"
    validation: "Must be specific, achievable, and family-friendly"
    guidance: |
      Goals should be:
      - Specific (not "improve reading")
      - Achievable (within reach in the reporting period)
      - Observable (parent can see progress at home)
      - Connected to curriculum expectations

  - id: slot.strategy
    name: Support Strategy
    description: A way families can support learning at home
    required: false
    examples:
      - "asking open-ended questions about their drawings"
      - "counting objects together during daily routines"
      - "reading books with repetitive phrases and rhymes"
    validation: "Must be practical and accessible for all families"

  # Context slots
  - id: slot.activity
    name: Learning Activity
    description: The specific activity or context where learning was observed
    required: false
    examples:
      - "during block play"
      - "at the writing centre"
      - "during our nature walk"
      - "while reading our class story"
    validation: "Must be specific enough to help parents understand context"

  - id: slot.timeframe
    name: Time Reference
    description: When the learning was observed or when growth occurred
    required: false
    examples:
      - "this term"
      - "since September"
      - "over the past month"
      - "during our recent unit on community helpers"
    validation: "Must be general (no specific dates that could identify events)"

  - id: slot.school_strategy
    name: School Strategy
    description: What educators will do to support the learning goal
    required: false
    examples:
      - "provide visual supports during transitions"
      - "offer choices during free play to encourage decision-making"
      - "model problem-solving strategies during group activities"
    validation: "Must describe educator actions, not child actions"

  - id: slot.home_strategy
    name: Home Strategy
    description: How families can support the learning goal at home
    required: false
    examples:
      - "ask open-ended questions about their day"
      - "read together for 10-15 minutes before bed"
      - "play counting games during daily routines"
    validation: "Must be realistic for home context without requiring special materials"

# Slot type classifications
slot_types:
  identity:
    description: Personal identifiers - filled from secure context only
    pii_risk: high
    storage: never_in_repo
    slots: [slot.child]

  pronoun:
    description: Grammatical pronouns with localization support
    pii_risk: low
    requires_locale: true
    slots: [slot.pronoun_subject, slot.pronoun_object, slot.pronoun_possessive]

  observation:
    description: Teacher-provided evidence of learning
    pii_risk: medium
    validation_required: true
    slots: [slot.evidence, slot.activity]

  attribute:
    description: Observable qualities or skills
    pii_risk: low
    slots: [slot.strength]

  growth:
    description: Descriptions of change over time
    pii_risk: low
    slots: [slot.change, slot.previous]

  next_step:
    description: Goals and strategies
    pii_risk: low
    slots: [slot.goal, slot.strategy, slot.school_strategy, slot.home_strategy]

# French pronoun mappings for bilingual templates
pronoun_localization:
  en:
    subject: [he, she, they]
    object: [him, her, them]
    possessive: [his, her, their]
  fr:
    subject: [il, elle, iel]
    object: [lui, elle, eux]
    possessive: [son, sa, leur]

# Validation rules for slot filling at runtime
validation_rules:
  - rule: no_other_children
    description: Slot content must not name or identify other children
    applies_to: [slot.evidence, slot.change, slot.previous, slot.activity]
    pattern: "(?i)\\b(friend named|classmate named|[A-Z][a-z]+ (said|did|helped))\\b"

  - rule: observable_only
    description: Content must describe observable behaviors, not interpretations
    applies_to: [slot.evidence, slot.strength, slot.change]
    banned_phrases: ["is smart", "is good", "is bad", "is lazy", "understands"]

  - rule: positive_framing
    description: Growth descriptions should frame previous as starting point, not deficit
    applies_to: [slot.previous]
    banned_phrases: ["couldn't", "failed to", "was unable", "struggled to", "was bad at"]

  - rule: achievable_goals
    description: Next steps should be developmentally appropriate
    applies_to: [slot.goal]
    max_length: 150

_meta:
  version: 0.2.0
  status: draft
  updated: 2026-01-11
